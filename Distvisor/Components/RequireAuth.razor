@inject AuthService Auth
@inject IUriHelper  UriHelper

@if (Auth.IsAuthenticated())
{
    @ChildContent
}

@functions {
    [Parameter]
    private RenderFragment ChildContent { get; set; }

    protected override void OnAfterRender()
    {
        if (!Auth.IsAuthenticated())
        {
            UriHelper.NavigateTo("/login");
        }
    }
}