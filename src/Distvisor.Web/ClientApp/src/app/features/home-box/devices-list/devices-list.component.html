<p-card header="Devices" styleClass="mt-3">
    <div *ngIf="(devicesVm$ | async) as devicesVm">
        <p-dataView [value]="devicesVm" [paginator]="true" [rows]="6" layout="grid">
            <ng-template let-device pTemplate="gridItem">
                <div class="p-2 col-12 sm:col-6 md:col-4">
                    <p-card [header]="device.header || device.name" styleClass="shadow-6">
                        <table>
                            <tbody>
                                <tr>
                                    <th class="auto-fit text-right pr-3">Name:</th>
                                    <td>{{device.name}}</td>
                                </tr>
                                <tr>
                                    <th class="auto-fit text-right pr-3">Id:</th>
                                    <td>{{device.id}}</td>
                                </tr>
                                <tr>
                                    <th class="auto-fit text-right pr-3">Type:</th>
                                    <td>{{device.type}}</td>
                                </tr>
                                <tr>
                                    <th class="auto-fit text-right pr-3">Location:</th>
                                    <td>{{device.location || '---'}}</td>
                                </tr>
                                <tr>
                                    <th class="auto-fit text-right pr-3">Status:</th>
                                    <td>{{device.isOnline ? 'Online' : 'Offline'}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="flex flex-row-reverse pt-3">
                            <div class="ml-3">
                                <button pButton pRipple type="button" class="p-button-lg p-button-info p-button-text"
                                    icon="pi pi-power-off" (click)="onDeviceToggleClicked(device)"></button>
                            </div>
                            <div class="ml-3">
                                <button pButton pRipple type="button" class="p-button-lg p-button-info p-button-text"
                                    icon="pi pi-ellipsis-h" (click)="onDeviceShowDetailsClicked(device.id || '')"></button>
                            </div>
                        </div>
                    </p-card>
                </div>
            </ng-template>
        </p-dataView>
    </div>
</p-card>