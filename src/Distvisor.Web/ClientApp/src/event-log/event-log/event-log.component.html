<div class="container">
    <p-card header="Events" styleClass="p-mt-3">
        <p-table dataKey="id" [value]="events" [rowHover]="true" [rows]="10" [rowsPerPageOptions]="[10,25,50]"
            [paginator]="true" [showCurrentPageReport]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th class="tiny-col"></th>
                    <th>Date</th>
                    <th>Event</th>
                    <th>Status</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-ev let-expanded="expanded">
                <tr [pRowToggler]="ev">
                    <td><i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i></td>
                    <td>{{ ev.publishDateUtc + 'Z' | date:'short' }}</td>
                    <td>{{ ev.payloadTypeDisplayName }}</td>
                    <td>{{ ev.status }}</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="rowexpansion" let-ev>
                <tr>
                    <td colspan="4">
                        <pre><code class="language-json" pCode>{{ ev.maskedPayload | json }}</code></pre>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="4">No events found.</td>
                </tr>
            </ng-template>
        </p-table>
    </p-card>
</div>